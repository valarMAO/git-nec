{"ast":null,"code":"import \"antd/es/dropdown/style/css\";\nimport _Dropdown from \"antd/es/dropdown\";\nimport \"antd/es/avatar/style/css\";\nimport _Avatar from \"antd/es/avatar\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nimport \"antd/es/layout/style/css\";\nimport _Layout from \"antd/es/layout\";\nimport \"antd/es/menu/style/css\";\nimport _Menu from \"antd/es/menu\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react\\\\nec\\\\src\\\\common\\\\layout\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as loginActionCreators from '../../page/login/store/actionCreators';\nimport { Logo, Avatars } from './style';\nimport { Link, NavLink, withRouter } from 'react-router-dom';\n\nclass Layouts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      subkey: '',\n      keys: ''\n    };\n  }\n\n  componentWillMount() {\n    const pathName = this.props.location.pathname;\n\n    switch (pathName) {\n      case '/admin':\n        return this.setState({\n          subkey: '',\n          keys: 'sub1'\n        });\n\n      case '/admin/product':\n        return this.setState({\n          subkey: 'sub2',\n          keys: '2'\n        });\n\n      case '/admin/product-category':\n        return this.setState({\n          subkey: 'sub2',\n          keys: '3'\n        });\n\n      case '/admin/order':\n        return this.setState({\n          subkey: 'sub4',\n          keys: '4'\n        });\n\n      case '/admin/user':\n        return this.setState({\n          subkey: 'sub4',\n          keys: '5'\n        });\n\n      default:\n        return this.setState({\n          subkey: '',\n          keys: ''\n        });\n    }\n  }\n\n  logout() {\n    this.props.logout(); //this.props.history.push('/login');\n\n    console.log(this.props);\n  }\n\n  render() {\n    const SubMenu = _Menu.SubMenu;\n    const Header = _Layout.Header,\n          Content = _Layout.Content,\n          Sider = _Layout.Sider; //const pathName = this.props.location.pathname;\n\n    const menu = React.createElement(_Menu, {\n      style: {\n        width: 256\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"10\",\n      style: {\n        padding: '8px',\n        background: '#fafafa',\n        color: 'rgba(0,0,0,.85)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"WELCOME \", this.props.username), React.createElement(_Menu.Item, {\n      key: \"11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"credit-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), \"\\u4FE1\\u606F\"), React.createElement(_Menu.Item, {\n      key: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"setting\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), \"\\u8D26\\u6237\\u8BBE\\u7F6E\"), React.createElement(_Menu.Item, {\n      key: \"13\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"bell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), \"\\u901A\\u77E5\"), React.createElement(_Menu.Item, {\n      key: \"14\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"poweroff\",\n      style: {\n        marginRight: '8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), \"\\u9000\\u51FA\"));\n    const logins = React.createElement(_Menu, {\n      style: {\n        width: 256\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u8BF7\\u767B\\u5F55\")));\n    return React.createElement(_Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Header, {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"React\")), React.createElement(Avatars, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(_Dropdown, {\n      overlay: this.props.login ? menu : logins,\n      trigger: ['click'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(_Avatar, {\n      icon: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })))), React.createElement(_Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Sider, {\n      width: 200,\n      style: {\n        background: '#fff'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(_Menu, {\n      mode: \"inline\",\n      defaultSelectedKeys: [this.state.keys],\n      defaultOpenKeys: [this.state.subkey] //selectedKeys={['pathName']}\n      ,\n      inlineCollapsed: 'false',\n      style: {\n        height: 'calc(100vh - 64px)',\n        borderRight: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"sub1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(_Icon, {\n      type: \"shop\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), \"\\u9996\\u9875\")), React.createElement(SubMenu, {\n      key: \"sub2\",\n      title: React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"laptop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), \"\\u5546\\u54C1\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/admin/product/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u5546\\u54C1\\u7BA1\\u7406\")), React.createElement(_Menu.Item, {\n      key: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/admin/product-category/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\u54C1\\u7C7B\\u7BA1\\u7406\"))), React.createElement(SubMenu, {\n      key: \"sub3\",\n      title: React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), \"\\u8BA2\\u5355\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/admin/order/index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"\\u8BA2\\u5355\\u7BA1\\u7406\"))), React.createElement(SubMenu, {\n      key: \"sub4\",\n      title: React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(_Icon, {\n        type: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), \"\\u7528\\u6237\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(_Menu.Item, {\n      key: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/admin/user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u7528\\u6237\\u7BA1\\u7406\"))))), React.createElement(_Layout, {\n      style: {\n        padding: '0 24px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Content, {\n      style: {\n        background: '#fff',\n        padding: 24,\n        margin: 0,\n        minHeight: 280\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.props.children))));\n  }\n\n}\n\nconst mapState = state => ({\n  login: state.login.get('login'),\n  username: state.login.get('username')\n});\n\nconst mapDispatch = dispatch => ({\n  logout() {\n    dispatch(loginActionCreators.logout());\n  }\n\n});\n\nexport default withRouter(connect(mapState, mapDispatch)(Layouts));","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\react\\nec\\src\\common\\layout\\index.js"],"names":["React","Component","connect","loginActionCreators","Logo","Avatars","Link","NavLink","withRouter","Layouts","constructor","props","state","subkey","keys","componentWillMount","pathName","location","pathname","setState","logout","console","log","render","SubMenu","Header","Content","Sider","menu","width","padding","background","color","username","marginRight","logins","login","height","borderRight","margin","minHeight","children","mapState","get","mapDispatch","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as loginActionCreators from '../../page/login/store/actionCreators'\r\nimport { Layout, Menu, Icon, Dropdown, Avatar } from 'antd';\r\nimport { Logo, Avatars } from './style';\r\nimport { Link, NavLink, withRouter } from 'react-router-dom';\r\n\r\nclass Layouts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      subkey: '',\r\n      keys: ''\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const pathName = this.props.location.pathname;\r\n    switch (pathName) {\r\n      case '/admin':\r\n        return this.setState({\r\n          subkey: '',\r\n          keys: 'sub1'\r\n        });\r\n      case '/admin/product':\r\n        return this.setState({\r\n          subkey: 'sub2',\r\n          keys: '2'\r\n        });\r\n      case '/admin/product-category':\r\n        return this.setState({\r\n          subkey: 'sub2',\r\n          keys: '3'\r\n        });\r\n      case '/admin/order':\r\n        return this.setState({\r\n          subkey: 'sub4',\r\n          keys: '4'\r\n        });\r\n      case '/admin/user':\r\n        return this.setState({\r\n          subkey: 'sub4',\r\n          keys: '5'\r\n        });\r\n      default:\r\n        return this.setState({\r\n          subkey: '',\r\n          keys: ''\r\n        });\r\n    }\r\n  }\r\n  logout() {\r\n    this.props.logout();\r\n    //this.props.history.push('/login');\r\n    console.log(this.props)\r\n  }\r\n  render() {\r\n    const { SubMenu } = Menu;\r\n    const { Header, Content, Sider } = Layout;\r\n    //const pathName = this.props.location.pathname;\r\n    const menu = (\r\n      <Menu\r\n        style={{ width: 256 }}\r\n      >\r\n        <Menu.Item key='10' style={{ padding: '8px', background: '#fafafa', color: 'rgba(0,0,0,.85)' }}>WELCOME {this.props.username}</Menu.Item>\r\n        <Menu.Item key='11'><Icon type=\"credit-card\" />信息</Menu.Item>\r\n        <Menu.Item key='12'><Icon type=\"setting\" />账户设置</Menu.Item>\r\n        <Menu.Item key='13'><Icon type=\"bell\" />通知</Menu.Item>\r\n        <Menu.Item key='14' onClick={this.logout}><Icon type=\"poweroff\" style={{ marginRight: '8px' }} />退出</Menu.Item>\r\n      </Menu>\r\n    );\r\n    const logins = (\r\n      <Menu\r\n        style={{ width: 256 }}\r\n      >\r\n        <Menu.Item key='15'><Link to='/login'>请登录</Link></Menu.Item>\r\n      </Menu>\r\n    );\r\n    return (\r\n      <Layout>\r\n        <Header className=\"header\">\r\n          <Link to='/admin'>\r\n            <Logo>React</Logo>\r\n          </Link>\r\n          <Avatars>\r\n            <Dropdown overlay={this.props.login ? menu : logins} trigger={['click']}>\r\n              <Avatar icon=\"user\" />\r\n            </Dropdown>\r\n          </Avatars>\r\n        </Header>\r\n        <Layout>\r\n          <Sider width={200} style={{ background: '#fff' }}>\r\n            <Menu\r\n              mode=\"inline\"\r\n              defaultSelectedKeys={[this.state.keys]}\r\n              defaultOpenKeys={[this.state.subkey]}\r\n              //selectedKeys={['pathName']}\r\n              inlineCollapsed={'false'}\r\n              style={{ height: 'calc(100vh - 64px)', borderRight: 0 }}\r\n            >\r\n              <Menu.Item key=\"sub1\">\r\n                <Link to='/admin'>\r\n                  <Icon type=\"shop\" />\r\n                  首页\r\n           </Link>\r\n              </Menu.Item>\r\n              <SubMenu key=\"sub2\" title={<span><Icon type=\"laptop\" />商品</span>}>\r\n                <Menu.Item key=\"2\"><NavLink to='/admin/product/index'>商品管理</NavLink></Menu.Item>\r\n                <Menu.Item key=\"3\"><NavLink to='/admin/product-category/index'>品类管理</NavLink></Menu.Item>\r\n              </SubMenu>\r\n              <SubMenu key=\"sub3\" title={<span><Icon type=\"notification\" />订单</span>}>\r\n                <Menu.Item key=\"4\"><NavLink to='/admin/order/index'>订单管理</NavLink></Menu.Item>\r\n              </SubMenu>\r\n              <SubMenu key=\"sub4\" title={<span><Icon type=\"user\" />用户</span>}>\r\n                <Menu.Item key=\"5\"><NavLink to='/admin/user'>用户管理</NavLink></Menu.Item>\r\n              </SubMenu>\r\n            </Menu>\r\n          </Sider>\r\n          <Layout style={{ padding: '0 24px' }}>\r\n            <Content style={{\r\n              background: '#fff', padding: 24, margin: 0, minHeight: 280,\r\n            }}\r\n            >\r\n              {this.props.children}\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n  login: state.login.get('login'),\r\n  username: state.login.get('username')\r\n})\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n  logout() {\r\n    dispatch(loginActionCreators.logout());\r\n  }\r\n})\r\n\r\nexport default withRouter(connect(mapState, mapDispatch)(Layouts));"]},"metadata":{},"sourceType":"module"}