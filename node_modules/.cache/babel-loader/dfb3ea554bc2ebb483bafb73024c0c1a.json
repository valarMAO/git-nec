{"ast":null,"code":"import \"antd/es/card/style/css\";\nimport _Card from \"antd/es/card\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/icon/style/css\";\nimport _Icon from \"antd/es/icon\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react\\\\nec\\\\src\\\\page\\\\login\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport * as actionCreators from './store/actionCreators';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          console.log('Received values of form: ', this.state.username, this.state.password);\n          this.setState({\n            username: values.username,\n            password: values.password\n          }, () => {\n            console.log('Received values of form: ', this.state.username, this.state.password);\n            this.props.login(this.state.username, this.state.password);\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: ''\n    };\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n\n    if (!this.props.loginStatus) {\n      return React.createElement(\"div\", {\n        style: {\n          background: '#ECECEC',\n          paddingTop: '140px',\n          height: '100vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(_Card, {\n        title: \"\\u6B22\\u8FCE\\u767B\\u9646\",\n        bordered: false,\n        style: {\n          width: 300,\n          margin: '0 auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(_Form, {\n        onSubmit: this.handleSubmit,\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, getFieldDecorator('username', {\n        rules: [{\n          required: true,\n          message: 'Please input your username!'\n        }]\n      })(React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"user\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }),\n        placeholder: \"Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: 'Please input your Password!'\n        }]\n      })(React.createElement(_Input, {\n        prefix: React.createElement(_Icon, {\n          type: \"lock\",\n          style: {\n            color: 'rgba(0,0,0,.25)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }),\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }))), React.createElement(_Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(_Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Log in\")))));\n    } else {\n      return React.createElement(Redirect, {\n        to: \"/admin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nconst WrappedNormalLoginForm = _Form.create()(Login);\n\nconst mapState = state => ({\n  loginStatus: state.login.get('login')\n});\n\nconst mapDispatch = dispatch => ({\n  login(username, password) {\n    dispatch(actionCreators.login(username, password));\n  }\n\n});\n\nexport default connect(mapState, mapDispatch)(WrappedNormalLoginForm);","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\react\\nec\\src\\page\\login\\index.js"],"names":["React","Component","connect","Redirect","actionCreators","Login","constructor","handleSubmit","e","preventDefault","props","form","validateFields","err","values","console","log","state","username","password","setState","login","render","getFieldDecorator","loginStatus","background","paddingTop","height","width","margin","rules","required","message","color","WrappedNormalLoginForm","create","mapState","get","mapDispatch","dispatch"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as actionCreators from './store/actionCreators';\r\nimport { Card, Form, Icon, Input, Button } from 'antd';\r\n\r\nclass Login extends Component {\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: ''\r\n\t\t}\r\n\t};\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.form.validateFields((err, values) => {\r\n\t\t  if (!err) {\r\n\t\t\tconsole.log('Received values of form: ', this.state.username, this.state.password);\r\n\t\t\tthis.setState({\r\n\t\t\t\tusername: values.username,\r\n\t\t\t\tpassword: values.password\r\n\t\t\t}, ()=>{\r\n\t\t\t\tconsole.log('Received values of form: ', this.state.username, this.state.password);\r\n\t\t\t\tthis.props.login(this.state.username, this.state.password)\r\n\t\t\t})\r\n\t\t  }\r\n\t\t});\r\n\t  }\r\n\trender() {\r\n\t\tconst { getFieldDecorator } = this.props.form;\r\n\t\tif(!this.props.loginStatus) {\r\n\t\t\treturn (\r\n\t\t\t\t<div style={{ background: '#ECECEC', paddingTop: '140px', height: '100vh' }}>\r\n\t\t\t\t\t<Card title=\"欢迎登陆\" bordered={false} style={{ width: 300, margin: '0 auto' }}>\r\n\t\t\t\t\t\t<Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t{getFieldDecorator('username', {\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Please input your username!' }],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t<Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t{getFieldDecorator('password', {\r\n\t\t\t\t\t\t\t\trules: [{ required: true, message: 'Please input your Password!' }],\r\n\t\t\t\t\t\t\t})(\r\n\t\t\t\t\t\t\t\t<Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"Password\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n\t\t\t\t\t\t\t\tLog in\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t </div>\r\n\t\t\t)\r\n\t\t}else {\r\n\t\t\treturn <Redirect to='/admin' />\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create()(Login);\r\n\r\nconst mapState = (state) => ({\r\n\tloginStatus: state.login.get('login')\r\n})\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n\tlogin(username,password) {\r\n\t\tdispatch(actionCreators.login(username,password))\r\n\t}\r\n})\r\n\r\nexport default connect(mapState,mapDispatch)(WrappedNormalLoginForm);"]},"metadata":{},"sourceType":"module"}