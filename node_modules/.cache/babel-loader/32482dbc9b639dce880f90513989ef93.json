{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/divider/style/css\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/tag/style/css\";\nimport _Tag from \"antd/es/tag\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/select/style/css\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react\\\\nec\\\\src\\\\page\\\\product\\\\index\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from '../../../axios/index';\nconst Column = _Table.Column;\nconst Option = _Select.Option;\nconst Search = _Input.Search;\n\nclass ProductList extends Component {\n  constructor() {\n    super();\n\n    this.request = () => {\n      axios.ajax({\n        url: '/product/list'\n      }).then(res => {\n        if (res.status == 0) {\n          this.setState({\n            data: res.data.list\n          });\n        }\n      });\n    };\n\n    this.state = {\n      data: [],\n      searchType: 1\n    };\n    this.columns = [{\n      title: 'id',\n      dataIndex: 'key'\n    }, {\n      title: '商品名称',\n      dataIndex: 'name'\n    }, {\n      title: '价格',\n      dataIndex: 'price'\n    }, {\n      title: '商品详情',\n      dataIndex: 'subtitle'\n    }, {\n      title: '状态',\n      dataIndex: 'status',\n      render: text => React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(_Tag, {\n        color: \"blue\",\n        key: text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, text === 1 ? '在售' : '下架'))\n    }, {\n      title: '操作',\n      dataIndex: 'action',\n      render: (text, record) => React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/admin/product/detail/\".concat(record.key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"\\u8BE6\\u60C5\"), React.createElement(_Divider, {\n        type: \"vertical\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/admin/product/save/\".concat(record.key),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"\\u7F16\\u8F91\"))\n    }];\n  }\n\n  componentDidMount() {\n    this.request();\n  }\n\n  //查找方式\n  handleChange(value) {\n    console.log(\"selected \".concat(value));\n    this.setState({\n      searchType: value\n    });\n  }\n\n  onSearchDate(e) {\n    console.log(this.state.searchType, e);\n\n    if (e) {\n      axios.ajax({\n        url: '/product/search'\n      }).then(res => {\n        if (res.status == 0) {\n          this.setState({\n            data: res.data\n          });\n        }\n      });\n    } else {\n      this.request();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(_Select, {\n      defaultValue: \"1\",\n      style: {\n        width: 200,\n        marginRight: 10\n      },\n      onChange: this.handleChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Option, {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u6309\\u5546\\u54C1id\\u641C\\u7D22\"), React.createElement(Option, {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"\\u6309\\u5546\\u54C1\\u540D\\u79F0\\u641C\\u7D22\")), React.createElement(Search, {\n      placeholder: \"\\u5173\\u952E\\u8BCD\",\n      enterButton: \"\\u641C\\u7D22\",\n      style: {\n        width: 280\n      },\n      onSearch: value => this.onSearchDate(value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(_Button, {\n      type: \"primary\",\n      style: {\n        float: 'right'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/admin/product/save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"\\u6DFB\\u52A0\\u5546\\u54C1\"))), React.createElement(_Table, {\n      columns: this.columns,\n      dataSource: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ProductList;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\react\\nec\\src\\page\\product\\index\\index.js"],"names":["React","Component","Link","axios","Column","Option","Search","ProductList","constructor","request","ajax","url","then","res","status","setState","data","list","state","searchType","columns","title","dataIndex","render","text","record","key","componentDidMount","handleChange","value","console","log","onSearchDate","e","width","marginRight","bind","float"],"mappings":"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","sourcesContent":["import React,{ Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from '../../../axios/index';\r\nimport { Table, Divider, Tag, Select, Input, Button } from 'antd';\r\n\r\nconst { Column } = Table;\r\nconst { Option } = Select;\r\nconst Search = Input.Search;\r\n\r\nclass ProductList extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\tsearchType: 1\r\n\t\t}\r\n\t\tthis.columns=[{\r\n\t\t\ttitle: 'id',\r\n\t\t\tdataIndex: 'key'\r\n\t\t},{\r\n\t\t\ttitle: '商品名称',\r\n\t\t\tdataIndex: 'name'\r\n\t\t},{\r\n\t\t\ttitle: '价格',\r\n\t\t\tdataIndex: 'price'\r\n\t\t},{\r\n\t\t\ttitle: '商品详情',\r\n\t\t\tdataIndex: 'subtitle'\r\n\t\t},{\r\n\t\t\ttitle: '状态',\r\n\t\t\tdataIndex: 'status',\r\n\t\t\trender: text => (\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<Tag color=\"blue\" key={text}>\r\n\t\t\t\t\t\t{text===1?'在售':'下架'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)\r\n\t\t},{\r\n\t\t\ttitle: '操作',\r\n\t\t\tdataIndex: 'action',\r\n\t\t\trender: (text, record) => (\r\n\t\t\t\t<span>\r\n\t\t\t\t<Link to={`/admin/product/detail/${record.key}`}>详情</Link>\r\n\t\t\t\t<Divider type=\"vertical\" />\r\n\t\t\t\t<Link to={`/admin/product/save/${record.key}`}>编辑</Link>\r\n\t\t\t\t</span>\r\n\t\t\t)\r\n\t\t}]\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n    this.request();\r\n  }\r\n\r\n  request = ()=>{\r\n    axios.ajax({\r\n      url: '/product/list'\r\n    }).then((res)=>{\r\n      if(res.status == 0){\r\n        this.setState({\r\n          data:res.data.list\r\n        })\r\n      }\r\n    })\r\n  }\r\n\t//查找方式\r\n\thandleChange(value) {\r\n\t\tconsole.log(`selected ${value}`);\r\n\t\tthis.setState({\r\n\t\t\tsearchType: value\r\n\t\t})\r\n\t  }\r\n\tonSearchDate(e) {\r\n\t\tconsole.log(this.state.searchType,e)\r\n\t\tif(e){\r\n\t\t\taxios.ajax({\r\n\t\t\t\turl: '/product/search'\r\n\t\t\t}).then((res)=>{\r\n\t\t\t\tif(res.status == 0){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdata:res.data\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\tthis.request();\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Select defaultValue=\"1\" style={{ width: 200, marginRight: 10 }} onChange={this.handleChange.bind(this)}>\r\n\t\t\t\t\t\t<Option value=\"1\">按商品id搜索</Option>\r\n\t\t\t\t\t\t<Option value=\"2\">按商品名称搜索</Option>\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"关键词\"\r\n\t\t\t\t\tenterButton=\"搜索\"\r\n\t\t\t\t\tstyle={{ width: 280 }}\r\n\t\t\t\t\tonSearch={value => this.onSearchDate(value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button type=\"primary\" style={{ float: 'right' }}><Link to='/admin/product/save'>添加商品</Link></Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Table columns={this.columns} dataSource={this.state.data}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}