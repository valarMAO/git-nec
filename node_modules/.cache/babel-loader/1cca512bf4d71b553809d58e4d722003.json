{"ast":null,"code":"import \"antd/es/table/style/css\";\nimport _Table from \"antd/es/table\";\nimport _objectSpread from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react\\\\nec\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\react\\\\nec\\\\src\\\\page\\\\user\\\\index.js\";\nimport React, { Component } from 'react';\nimport axios from '../../axios/index';\nconst columns = [{\n  title: 'Name',\n  dataIndex: 'username',\n  width: '20%',\n  key: 'username'\n}, {\n  title: 'Gender',\n  dataIndex: 'gender',\n  filters: [{\n    text: 'Male',\n    value: 'male'\n  }, {\n    text: 'Female',\n    value: 'female'\n  }],\n  width: '20%'\n}, {\n  title: 'Email',\n  dataIndex: 'email'\n}];\n\nclass User extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      pagination: {},\n      loading: false\n    };\n\n    this.request = () => {\n      axios.ajax({\n        url: '/user'\n      }).then(res => {\n        if (res.status == 0) {\n          console.log(res.data);\n          this.setState({\n            data: res.data.list\n          });\n        }\n      });\n    };\n\n    this.handleTableChange = (pagination, filters, sorter) => {\n      const pager = _objectSpread({}, this.state.pagination);\n\n      pager.current = pagination.current;\n      this.setState({\n        pagination: pager\n      });\n      this.fetch(_objectSpread({\n        results: pagination.pageSize,\n        page: pagination.current,\n        sortField: sorter.field,\n        sortOrder: sorter.order\n      }, filters));\n    };\n  }\n\n  componentDidMount() {\n    this.request();\n  }\n\n  render() {\n    return React.createElement(_Table, {\n      columns: columns,\n      dataSource: this.state.data,\n      pagination: this.state.pagination,\n      loading: this.state.loading,\n      onChange: this.handleTableChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default User;","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\react\\nec\\src\\page\\user\\index.js"],"names":["React","Component","axios","columns","title","dataIndex","width","key","filters","text","value","User","state","data","pagination","loading","request","ajax","url","then","res","status","console","log","setState","list","handleTableChange","sorter","pager","current","fetch","results","pageSize","page","sortField","field","sortOrder","order","componentDidMount","render"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AAEA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,MAAMC,OAAO,GAAG,CACd;AACEC,EAAAA,KAAK,EAAE,MADT;AAEEC,EAAAA,SAAS,EAAE,UAFb;AAGEC,EAAAA,KAAK,EAAE,KAHT;AAIEC,EAAAA,GAAG,EAAE;AAJP,CADc,EAOd;AACEH,EAAAA,KAAK,EAAE,QADT;AAEEC,EAAAA,SAAS,EAAE,QAFb;AAGEG,EAAAA,OAAO,EAAE,CAAC;AAAEC,IAAAA,IAAI,EAAE,MAAR;AAAgBC,IAAAA,KAAK,EAAE;AAAvB,GAAD,EAAkC;AAAED,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAAlC,CAHX;AAIEJ,EAAAA,KAAK,EAAE;AAJT,CAPc,EAad;AACEF,EAAAA,KAAK,EAAE,OADT;AAEEC,EAAAA,SAAS,EAAE;AAFb,CAbc,CAAhB;;AAmBA,MAAMM,IAAN,SAAmBV,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAC3BW,KAD2B,GACnB;AACNC,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,UAAU,EAAE,EAFN;AAGNC,MAAAA,OAAO,EAAE;AAHH,KADmB;;AAAA,SAW3BC,OAX2B,GAWjB,MAAI;AACZd,MAAAA,KAAK,CAACe,IAAN,CAAW;AACTC,QAAAA,GAAG,EAAE;AADI,OAAX,EAEGC,IAFH,CAESC,GAAD,IAAO;AACb,YAAGA,GAAG,CAACC,MAAJ,IAAc,CAAjB,EAAmB;AACjBC,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACP,IAAhB;AACA,eAAKW,QAAL,CAAc;AACZX,YAAAA,IAAI,EAACO,GAAG,CAACP,IAAJ,CAASY;AADF,WAAd;AAGD;AACF,OATD;AAUD,KAtB0B;;AAAA,SAwB3BC,iBAxB2B,GAwBP,CAACZ,UAAD,EAAaN,OAAb,EAAsBmB,MAAtB,KAAiC;AACnD,YAAMC,KAAK,qBAAQ,KAAKhB,KAAL,CAAWE,UAAnB,CAAX;;AACAc,MAAAA,KAAK,CAACC,OAAN,GAAgBf,UAAU,CAACe,OAA3B;AACA,WAAKL,QAAL,CAAc;AACZV,QAAAA,UAAU,EAAEc;AADA,OAAd;AAGA,WAAKE,KAAL;AACEC,QAAAA,OAAO,EAAEjB,UAAU,CAACkB,QADtB;AAEEC,QAAAA,IAAI,EAAEnB,UAAU,CAACe,OAFnB;AAGEK,QAAAA,SAAS,EAAEP,MAAM,CAACQ,KAHpB;AAIEC,QAAAA,SAAS,EAAET,MAAM,CAACU;AAJpB,SAKK7B,OALL;AAOD,KArC0B;AAAA;;AAO3B8B,EAAAA,iBAAiB,GAAG;AAClB,SAAKtB,OAAL;AACD;;AA+BDuB,EAAAA,MAAM,GAAG;AACP,WACE;AACE,MAAA,OAAO,EAAEpC,OADX;AAEE,MAAA,UAAU,EAAE,KAAKS,KAAL,CAAWC,IAFzB;AAGE,MAAA,UAAU,EAAE,KAAKD,KAAL,CAAWE,UAHzB;AAIE,MAAA,OAAO,EAAE,KAAKF,KAAL,CAAWG,OAJtB;AAKE,MAAA,QAAQ,EAAE,KAAKW,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AASD;;AAlD0B;;AAqD7B,eAAef,IAAf","sourcesContent":["import React,{ Component } from 'react';\r\nimport { Table } from 'antd';\r\nimport axios from '../../axios/index';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Name',\r\n    dataIndex: 'username',\r\n    width: '20%',\r\n    key: 'username'\r\n  },\r\n  {\r\n    title: 'Gender',\r\n    dataIndex: 'gender',\r\n    filters: [{ text: 'Male', value: 'male' }, { text: 'Female', value: 'female' }],\r\n    width: '20%',\r\n  },\r\n  {\r\n    title: 'Email',\r\n    dataIndex: 'email',\r\n  },\r\n];\r\n\r\nclass User extends Component {\r\n  state = {\r\n    data: [],\r\n    pagination: {},\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.request();\r\n  }\r\n\r\n  request = ()=>{\r\n    axios.ajax({\r\n      url: '/user'\r\n    }).then((res)=>{\r\n      if(res.status == 0){\r\n        console.log(res.data);\r\n        this.setState({\r\n          data:res.data.list\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleTableChange = (pagination, filters, sorter) => {\r\n    const pager = { ...this.state.pagination };\r\n    pager.current = pagination.current;\r\n    this.setState({\r\n      pagination: pager,\r\n    });\r\n    this.fetch({\r\n      results: pagination.pageSize,\r\n      page: pagination.current,\r\n      sortField: sorter.field,\r\n      sortOrder: sorter.order,\r\n      ...filters,\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Table\r\n        columns={columns}\r\n        dataSource={this.state.data}\r\n        pagination={this.state.pagination}\r\n        loading={this.state.loading}\r\n        onChange={this.handleTableChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;"]},"metadata":{},"sourceType":"module"}